document.querySelector(".main");const m=document.querySelector(".js-ulList");document.querySelector(".divInput");const h=document.querySelector(".js-search"),f=document.querySelector(".js-textInput");document.querySelector(".liEvent");const u=document.querySelector(".ulListFav");document.querySelector(".js-divFav");let c=[],a=[];const o=i=>{m.innerHTML="";for(const e of i){const t=document.createElement("li");t.setAttribute("id",e.mal_id),t.setAttribute("class","liList"),m.appendChild(t);const n=document.createElement("img");e.images.jpg.image_url&&e.images.jpg.image_url,n.setAttribute("src",e.images.jpg.image_url),n.setAttribute("alt",e.title),n.setAttribute("class","img"),t.appendChild(n);const s=document.createElement("h3"),l=document.createTextNode(e.title);s.setAttribute("class","h3"),s.appendChild(l),t.appendChild(s),a.find(g=>g.mal_id===e.mal_id)&&t.classList.add("selected"),t.addEventListener("click",x)}},v=i=>{const e=parseInt(i.currentTarget.id),t=a.findIndex(n=>n.mal_id===e);console.log(i.currentTarget.id),a.splice(t,1),localStorage.setItem("animeLS",JSON.stringify(a)),r(a),o(c)},r=i=>{u.innerHTML="";for(const e of i){const t=document.createElement("li"),n=document.createElement("i");n.setAttribute("class","fa-solid fa-circle-xmark"),t.appendChild(n),n.setAttribute("id",e.mal_id),t.setAttribute("class","liEvent"),u.appendChild(t);const s=document.createElement("img");e.images.jpg.image_url&&e.images.jpg.image_url,s.setAttribute("src",e.images.jpg.image_url),s.setAttribute("alt",e.title),s.setAttribute("class","imgFav"),t.appendChild(s);const l=document.createElement("h3"),d=document.createTextNode(e.title);l.setAttribute("class","h3"),l.appendChild(d),t.appendChild(l),n.addEventListener("click",v)}},p=i=>{fetch(`https://api.jikan.moe/v4/anime?q=${i}`).then(e=>e.json()).then(e=>{c=e.data,console.log(c),o(c)})},A=()=>{const i=localStorage.getItem("animeLS");i&&(a=JSON.parse(i),r(a))};A();p("naruto");const S=()=>{const i=f.value;p(i)},x=i=>{const e=parseInt(i.currentTarget.id);if(a.findIndex(n=>n.mal_id===e)===-1){const n=c.find(s=>s.mal_id===e);a.push(n),localStorage.setItem("animeLS",JSON.stringify(a))}r(a),o(c)};h.addEventListener("click",S);
//# sourceMappingURL=main.js.map

document.querySelector(".main");const m=document.querySelector(".js-ulList");document.querySelector(".divInput");const v=document.querySelector(".js-search"),f=document.querySelector(".js-textInput");document.querySelector(".liEvent");const u=document.querySelector(".ulListFav"),h=document.querySelector(".js-divFav");let c=[],s=[];const o=i=>{m.innerHTML="";for(const e of i){const t=document.createElement("li");t.setAttribute("id",e.mal_id),t.setAttribute("class","liList"),m.appendChild(t);const n=document.createElement("img");e.images.jpg.image_url&&e.images.jpg.image_url,n.setAttribute("src",e.images.jpg.image_url),n.setAttribute("alt",e.title),n.setAttribute("class","img"),t.appendChild(n);const a=document.createElement("h3"),l=document.createTextNode(e.title);a.setAttribute("class","h3"),a.appendChild(l),t.appendChild(a),s.find(g=>g.mal_id===e.mal_id)&&t.classList.add("selected"),t.addEventListener("click",F)}},A=i=>{const e=parseInt(i.currentTarget.id),t=s.findIndex(n=>n.mal_id===e);console.log(i.currentTarget.id),s.splice(t,1),localStorage.setItem("animeLS",JSON.stringify(s)),r(s),o(c),s.length===0&&h.classList.add("hidden")},r=i=>{u.innerHTML="";for(const e of i){const t=document.createElement("li"),n=document.createElement("i");n.setAttribute("class","fa-solid fa-circle-xmark"),t.appendChild(n),n.setAttribute("id",e.mal_id),t.setAttribute("class","liEvent"),u.appendChild(t);const a=document.createElement("img");a.setAttribute("src",e.images.jpg.image_url),a.setAttribute("alt",e.title),a.setAttribute("class","imgFav"),t.appendChild(a);const l=document.createElement("h3"),d=document.createTextNode(e.title);l.setAttribute("class","h3"),l.appendChild(d),t.appendChild(l),n.addEventListener("click",A)}},p=i=>{fetch(`https://api.jikan.moe/v4/anime?q=${i}`).then(e=>e.json()).then(e=>{c=e.data,console.log(c),o(c)})},S=()=>{const i=localStorage.getItem("animeLS");i&&(s=JSON.parse(i),r(s))};S();p("naruto");const L=()=>{const i=f.value;p(i)},F=i=>{const e=parseInt(i.currentTarget.id);if(s.findIndex(n=>n.mal_id===e)===-1){const n=c.find(a=>a.mal_id===e);s.push(n),h.classList.remove("hidden"),localStorage.setItem("animeLS",JSON.stringify(s))}r(s),o(c)};v.addEventListener("click",L);
//# sourceMappingURL=main.js.map
